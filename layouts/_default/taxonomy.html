{{ partial "header.html" . }}

<!-- Use "text-muted" and "text-primary" to invert the breadcrumb text colors -->

{{ partial "main_begin.html" . }}
	<div class="voffset-20"></div>
	<!-- page-header -->
	<div class="container"><h1>{{ .Title | title }}</h1></div>
	<div class="section panel panel-default">
		<div class="panel-heading">
			<div class="row">
				<div class="voffset-10"></div>
				<ul class="breadcrumb list-unstyled">
					<li><a href="{{ $.Site.BaseUrl }}">Home </a>
					 <span class="divider"></span></li>
					<!--There's gotta be a better way to get the Taxonomy?
						NOTE, "Plural" doesn't (currently?) work
						.Site.Taxonomies
						(index $value.Pages 0).Taxonomies (.Data.Taxonomies?)
						IMPORTANT: If you have custom taxonomies, make the
							plural equal to singular. Then store the plural version
							in .Site.Params.taxonomy or something.
						NOTE: The newest version of hugo may have plural/singular support,
							which is why it is in the docs.
						UPDATE: "terms.html" has access to Singular/Plural in its ".Data" field
							Maybe instead of treating data differently if it's a "page" or if
							it's a member of another page, you make the data and access methods
							the same...
						NOTE: "terms.html" has direct access to plural/singular...
						PS: "taxonomy.html" and "terms.html" are unintuitive
							"Cateory" is a taxonomy
							"Category.Project" is a term within the Taxonomy
							swap them, rename "terms" to either "term" or "taxonomy.term"
						{ { .Data }} is map that containes "category", yet
							{ { (index .Data "category").Data }} crashes Go
					-->
					{{ range $key, $value := .Data }}
						{{ if (ne $key "Pages") }}
							{{ if (eq $key "category") }}
								<li><a href="{{ $.Site.BaseUrl }}/categories">Categories </a>
							{{ else if (eq $key "tag") }}
								<li><a href="{{ $.Site.BaseUrl }}/tags">Tags </a>
							{{ else }}
								<!-- Taxononmy's plural must equal its singular
									form for this to work
								-->
								<li><a href="{{ $.Site.BaseUrl }}/{{ $key | urlize }}">
									{{ $key | title }} </a>
							{{ end }}
							 <span class="divider"></span></li>
						{{ end }}
					{{ end }}
					<li class="active">{{ .Title | title }}</li>
				</ul>
				<div class="voffset-30"></div>
			</div>
		</div>
		{{ if (not .Data.Pages ) }}
			<div class="panel-body">
				<h4 class="text-muted">No content found matching this criteria</h4>
			</div>
		{{ else }}
			<ul class="list-group list-unstyled">
			<!-- Group by Year, only if there is more than one year?
			{ { range .Data.Pages.GroupByDate "2006-01" }}
			{ { .Key }}
			{ { range .Pages }}
			-->
			{{ range .Data.Pages }}
				<a class="list-group-item" href="{{ .Permalink }}">
					<span class="text-primary">{{ .Title | title }}</span>
					<span class="pull-right">{{ .Date.Format "Jan 2" }}</span>
				</a>
			{{ end }}
			</ul>
		{{ end }}
	</div>
{{ partial "main_end.html" . }}

{{ partial "footer.html" . }}


